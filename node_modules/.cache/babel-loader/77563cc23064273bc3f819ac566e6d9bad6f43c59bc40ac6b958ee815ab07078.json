{"ast":null,"code":"import React,{useState,useEffect}from'react';import'../css/EventManager.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EventModal=_ref=>{let{date,events,addEvent,deleteEvent,editEvent,onClose}=_ref;const[newEvent,setNewEvent]=useState('');const[eventList,setEventList]=useState([]);const dateArray=date.split('-');const year=dateArray[0];const month=dateArray[1];const day=dateArray[2];useEffect(()=>{setEventList([...events]);// events 객체에서 특정 날짜에 해당하는 이벤트 배열을 가져옴\n// setEventList(events[date] || []);\n// if (events && events[date]) {\n//   setEventList(events[date]);\n// } else {\n//   setEventList([]);\n// }\n},[date,events]);const handleAddEvent=()=>{if(newEvent.trim()!==''){addEvent(date,newEvent);// EventManager에서 함수 직접 호출\nsetNewEvent('');}else{console.error(\"새 이벤트 내용이 비어 있습니다.\");}};const handleEditEvent=index=>{const editedEvent=prompt(\"일정 수정: \",events[date][index]);if(editedEvent!==null){editEvent(date,index,editedEvent);}// EventManager에서 함수 직접 호출\n};const handleDeleteEvent=index=>{deleteEvent(date,index);// EventManager에서 함수 직접 호출\n};return/*#__PURE__*/_jsx(\"div\",{className:\"eventpopup-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"eventpopup-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"close-btn\",onClick:onClose,children:\"\\xD7\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[year,\"\\uB144 \",month,\"\\uC6D4 \",day,\"\\uC77C\"]}),/*#__PURE__*/_jsx(\"ul\",{children:eventList.map((event,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{children:event}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditEvent(index,prompt(\"Edit event:\",event)),children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteEvent(index),children:\"\\uC0AD\\uC81C\"})]},index))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newEvent,onChange:e=>setNewEvent(e.target.value),placeholder:\"\\uC0C8 \\uC774\\uBCA4\\uD2B8 \\uCD94\\uAC00\"}),\"\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(\"button\",{onClick:handleAddEvent,children:\"\\uCD94\\uAC00\"})]})});};export default EventModal;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","EventModal","_ref","date","events","addEvent","deleteEvent","editEvent","onClose","newEvent","setNewEvent","eventList","setEventList","dateArray","split","year","month","day","handleAddEvent","trim","console","error","handleEditEvent","index","editedEvent","prompt","handleDeleteEvent","className","children","onClick","map","event","type","value","onChange","e","target","placeholder"],"sources":["/Users/orcor/react/careplus/src/resource/CalendarDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport '../css/EventManager.css';\n\nconst EventModal = ({ date, events, addEvent, deleteEvent, editEvent, onClose }) => {\n  const [newEvent, setNewEvent] = useState('');\n  const [eventList, setEventList] = useState([]);\n  const dateArray = date.split('-');\n  const year = dateArray[0];\n  const month = dateArray[1];\n  const day = dateArray[2];\n  useEffect(() => {\n    setEventList([... events]);\n    // events 객체에서 특정 날짜에 해당하는 이벤트 배열을 가져옴\n    // setEventList(events[date] || []);\n    // if (events && events[date]) {\n    //   setEventList(events[date]);\n    // } else {\n    //   setEventList([]);\n    // }\n  }, [date, events]);\n  \n  const handleAddEvent = () => {\n    if (newEvent.trim() !== '') {\n      addEvent(date, newEvent); // EventManager에서 함수 직접 호출\n      setNewEvent('');\n    }else {\n      console.error(\"새 이벤트 내용이 비어 있습니다.\");\n    }\n  };\n\n  \n\n  const handleEditEvent = (index) => {\n    const editedEvent = prompt(\"일정 수정: \", events[date][index]);\n    if (editedEvent !== null) {\n      editEvent(date, index, editedEvent);\n    } // EventManager에서 함수 직접 호출\n  };\n\n  const handleDeleteEvent = (index) => {\n    deleteEvent(date, index); // EventManager에서 함수 직접 호출\n  };\n\n \n\n\n  return (\n    <div className=\"eventpopup-overlay\">\n      <div className=\"eventpopup-content\">\n        <span className=\"close-btn\" onClick={onClose}>&times;</span>\n        <h2>{year}년 {month}월 {day}일</h2>\n        <ul>\n          {eventList.map((event, index) => (\n            <li key={index}>\n              <span>{event}</span>\n              <button onClick={() => handleEditEvent(index, prompt(\"Edit event:\", event))}>수정</button>\n              <button onClick={() => handleDeleteEvent(index)}>삭제</button>\n            </li>\n          ))}\n        </ul>\n        <input\n          type=\"text\"\n          value={newEvent}\n          onChange={(e) => setNewEvent(e.target.value)}\n          placeholder=\"새 이벤트 추가\"\n        />&nbsp;&nbsp;&nbsp;\n        <button onClick={handleAddEvent}>추가</button>\n      </div>\n    </div>\n  );\n};\n\nexport default EventModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}